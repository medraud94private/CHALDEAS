# CHALDEAS 사용자 경험 현황 - 2026-01-07

---

## 요약

| 구분 | 상태 | 사용자 경험 |
|------|------|------------|
| **V0 Core** | ✅ 운영 중 | 3D 지구본, 이벤트 탐색, 채팅 |
| **V1 Explore** | ✅ 동작 | 엔티티 풀 탐색 (Pre-Curation) |
| **V1 Chain** | ⬜ 미구현 | Historical Chain 생성/조회 |
| **V1 Import** | ⬜ 미구현 | NER 배치 데이터 DB 적재 |

---

## 현재 사용 가능한 기능

### 1. 3D 지구본 인터페이스 ✅

```
사용자 경험:
1. 페이지 접속 → 3D 지구본 표시
2. 지구본 회전/확대/축소
3. 이벤트 마커 클릭 → 상세 패널 열림
4. 지구본 스타일 변경 (Default, Holo, Night)
```

**동작 확인**: `http://localhost:5200`

### 2. 타임라인 컨트롤 ✅

```
사용자 경험:
1. 현재 연도 표시 (BCE/CE)
2. ±10년, ±100년 버튼으로 이동
3. ▶ 버튼으로 자동 재생 (5초당 1년)
4. 시대명 표시 (Ancient, Medieval, Modern 등)
```

### 3. 사이드바 이벤트 목록 ✅

```
사용자 경험:
1. 현재 시점 기준 ±50년 이벤트 목록
2. 카테고리 필터 (battle, war, politics, religion 등)
3. 검색창으로 이벤트 검색
4. "Nearby Era" / "All Eras" 토글
5. 이벤트 클릭 → 지구본 해당 위치로 이동 + 상세 패널
```

### 4. 이벤트 상세 패널 ✅

```
사용자 경험:
1. 이벤트 제목, 날짜, 설명
2. 관련 인물/장소 목록
3. "Ask SHEBA" 버튼 → 채팅으로 질문
4. 관련 이벤트 목록 (같은 시대/장소)
```

### 5. SHEBA 채팅 ✅

```
사용자 경험:
1. ◎ 버튼 클릭 → 채팅 패널 열림
2. 자연어로 역사 질문
3. AI 응답 + 관련 이벤트 추천
4. 응답에서 이벤트 클릭 → 지구본 이동
```

**제한사항**: 현재 V0 데이터 기반, Chain 기반 응답 아님

### 6. Showcase 메뉴 ✅

```
사용자 경험:
1. FGO Archive: Singularities, Lostbelts 목록
2. Pan-Human History: 실제 역사 이벤트 모음
3. 항목 클릭 → 모달로 상세 정보
4. 이벤트 연결 → 지구본 이동
```

### 7. Entity Explorer (V1 신규) ✅

```
사용자 경험:
1. ⋮⋮⋮ 버튼 클릭 → 탐색 패널 열림
2. 탭으로 엔티티 타입 선택
   - Persons (👤)
   - Locations (📍)
   - Events (📜)
   - Polities (🏛️)
   - Periods (⏳)
   - Sources (📚)
3. 상단 통계: 각 타입별 총 개수
4. 검색 + 정렬 (Persons: 언급 횟수, 이름, 출생연도 등)
5. 테이블로 결과 표시
6. 페이지네이션으로 탐색
```

**데이터 상태**: DB 스키마 준비됨, 실제 NER 데이터 임포트 필요

---

## 아직 구현되지 않은 기능

### 1. Historical Chain 생성/조회 ⬜

```
예상 사용자 경험:
1. 인물/장소/시대 선택 → "Create Chain" 버튼
2. AI가 관련 사건들을 인과관계로 연결
3. 체인 시각화 (타임라인 + 관계도)
4. 체인 저장/공유
```

**필요 작업**:
- Chain 생성 API (V1)
- Chain 조회 API (V1)
- Chain 시각화 UI

### 2. NER 배치 데이터 임포트 ⬜

```
현재 상태:
- 5.65M 엔티티 NER 추출 완료 (poc/data/batch/)
- DB 스키마 준비 완료 (text_mentions, entity_aliases 등)
- 임포트 스크립트 필요
```

**임포트 후 기대 효과**:
- Entity Explorer에서 실제 역사 인물/장소/사건 탐색
- 출처 문서 → 엔티티 연결 조회
- 언급 횟수 기반 중요도 정렬

### 3. 벡터 검색 (Semantic Search) ⬜

```
예상 사용자 경험:
1. 자연어 검색: "로마 제국의 멸망 원인"
2. 의미 기반 관련 문서/이벤트 반환
3. SHEBA 채팅에서 더 정확한 응답
```

**필요 작업**:
- pgvector IVFFlat 인덱스 생성
- 임베딩 생성 파이프라인
- 검색 API 통합

### 4. Person/Place Story 시각화 ⬜

```
예상 사용자 경험:
1. 인물 선택 → 생애 타임라인 표시
2. 장소 선택 → 해당 장소의 역사적 변천 표시
3. 각 시점의 관련 사건 연결
```

---

## 현재 데이터 상태

| 항목 | V0 (운영) | V1 (준비됨) |
|------|----------|------------|
| Events | ~500개 (샘플) | 스키마만 |
| Persons | ~100개 (샘플) | 5.65M 추출 (미임포트) |
| Locations | ~50개 (샘플) | 추출 완료 (미임포트) |
| Polities | - | 스키마만 |
| Periods | - | 30+ 시드 데이터 |
| Sources | - | 스키마만 |
| Chains | - | 스키마만 |

---

## 데모 시나리오 (현재 가능)

### 시나리오 1: 기본 탐색

```
1. 페이지 접속
2. 타임라인을 BC 490년으로 이동
3. "Marathon" 검색 → 마라톤 전투 클릭
4. 지구본이 그리스로 이동
5. 상세 패널에서 정보 확인
```

### 시나리오 2: SHEBA 질문

```
1. ◎ 버튼 클릭
2. "Tell me about Alexander the Great"
3. AI 응답 + 관련 이벤트 목록
4. 이벤트 클릭 → 지구본 이동
```

### 시나리오 3: Entity Explorer (V1)

```
1. ⋮⋮⋮ 버튼 클릭
2. 상단 통계 확인 (현재: 대부분 0)
3. Persons 탭 → 검색 → (데이터 임포트 후 동작)
```

---

## 다음 마일스톤

| 순서 | 작업 | 완료 시 UX 변화 |
|------|------|----------------|
| 1 | NER 데이터 임포트 | Explorer에서 실제 역사 데이터 탐색 |
| 2 | Chain 생성 API | Person/Place Story 자동 생성 |
| 3 | Chain 시각화 UI | 인과관계 타임라인 표시 |
| 4 | 벡터 검색 | 의미 기반 검색, SHEBA 정확도 향상 |

---

## 접속 정보

```
Frontend: http://localhost:5200
Backend API: http://localhost:8100
API Docs: http://localhost:8100/docs
```
