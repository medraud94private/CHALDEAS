# ì´ë²¤íŠ¸ ê³„ì¸µí™” - ì´ë²¤íŠ¸ ê°„ ê´€ê³„ (ë¹„ê³„ì¸µì )

**ì‘ì„±ì¼**: 2026-01-28
**ëª©ì **: ë¶€ëª¨-ìì‹ ê³„ì¸µ ì™¸ì— ì´ë²¤íŠ¸ ê°„ì˜ ì¸ê³¼/ì˜í–¥/ì—°ê³„ ê´€ê³„ ëª¨ë¸ë§

---

## 0. ê¸°ì¡´ ìŠ¤í‚¤ë§ˆ í˜„í™© (í†µí•© ê°€ëŠ¥!)

**ì¤‘ìš”**: `backend/app/models/associations.py`ì— ì´ë¯¸ ê´€ê³„ í…Œì´ë¸”ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤!

### ê¸°ì¡´ í…Œì´ë¸” ìš”ì•½

| í…Œì´ë¸” | ê´€ê³„ | í˜„ì¬ relationship_type | V1 ì¶”ê°€ í•„ë“œ |
|--------|------|------------------------|--------------|
| `event_relationships` | Event â†” Event | causes, follows, part_of, related_to, opposes, enables, prevents | certainty, evidence_type, scholarly_citation |
| `person_relationships` | Person â†” Person | teacher, student, rival, ally, family, mentor, patron | strength, valid_from/until, is_bidirectional |
| `location_relationships` | Location â†” Location | related_to, part_of, near, contains | strength, confidence |
| `polity_relationships` | Polity â†” Polity | successor, predecessor, vassal, suzerain, ally, enemy | valid_from/until |

### í†µí•© ì „ëµ

1. **ìƒˆ í…Œì´ë¸” ìƒì„± ë¶ˆí•„ìš”** - ê¸°ì¡´ `event_relationships` í™•ì¥
2. **relationship_type ì¶”ê°€** - ê¸°ì¡´ íƒ€ì…ì— ìƒˆ íƒ€ì… ì¶”ê°€
3. **hierarchyì™€ relation êµ¬ë¶„** - parent_event_idëŠ” ê³„ì¸µ, event_relationshipsëŠ” ì—°ê³„

```python
# ê¸°ì¡´ event_relationships í…Œì´ë¸” êµ¬ì¡° (associations.py:70-86)
event_relationships = Table(
    "event_relationships",
    Column("from_event_id", Integer, ForeignKey("events.id")),
    Column("to_event_id", Integer, ForeignKey("events.id")),
    Column("relationship_type", String(50)),  # â† ì—¬ê¸°ì— íƒ€ì… ì¶”ê°€
    Column("strength", Integer, default=3),
    Column("description", Text),
    # V1 enhancements
    Column("certainty", String(20)),  # certain, probable, possible, disputed
    Column("evidence_type", String(30)),  # primary_source, scholarly_consensus
    Column("scholarly_citation", Text),
    Column("confidence", Float, default=1.0),
)
```

---

## 1. ê´€ê³„ ìœ í˜• ì •ì˜

### 1.1 ê³„ì¸µ ê´€ê³„ vs ì—°ê³„ ê´€ê³„

| ìœ í˜• | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **ê³„ì¸µ (Hierarchy)** | Aê°€ Bë¥¼ í¬í•¨ | ë°±ë…„ì „ìŸ âŠƒ ì•„ìŸì¿ ë¥´ ì „íˆ¬ |
| **ì—°ê³„ (Relation)** | Aì™€ Bê°€ ì—°ê²°ë¨ (í¬í•¨ ì—†ìŒ) | ì¢…êµê°œí˜ â†’ 30ë…„ ì „ìŸ |

### 1.2 ì—°ê³„ ê´€ê³„ ìœ í˜•

#### ê¸°ì¡´ íƒ€ì… (associations.pyì— ì •ì˜ë¨)

| relation_type | ë°©í–¥ | ì„¤ëª… | ì˜ˆì‹œ |
|---------------|------|------|------|
| `causes` | A â†’ B | Aê°€ Bë¥¼ ì§ì ‘ ìœ ë°œ | ì‚¬ë¼ì˜ˆë³´ ì•”ì‚´ â†’ 1ì°¨ëŒ€ì „ |
| `follows` | A â†’ B | A ë‹¤ìŒì— B ë°œìƒ | í¬ë ˆì‹œ ì „íˆ¬ â†’ í‘¸ì•„í‹°ì— ì „íˆ¬ |
| `part_of` | A âŠ‚ B | Aê°€ Bì˜ ì¼ë¶€ (ê³„ì¸µê³¼ ìœ ì‚¬) | ì „íˆ¬ part_of ì „ìŸ |
| `related_to` | A â†” B | ì¼ë°˜ì  ê´€ë ¨ | |
| `opposes` | A â†” B | ëŒ€ë¦½/ë°˜ëŒ€ | ì¢…êµê°œí˜ â†” ë°˜ì¢…êµê°œí˜ |
| `enables` | A â†’ B | Aê°€ Bë¥¼ ê°€ëŠ¥í•˜ê²Œ í•¨ | ì¸ì‡„ìˆ  â†’ ì¢…êµê°œí˜ |
| `prevents` | A â†’ B | Aê°€ Bë¥¼ ë§‰ìŒ | íˆ¬ë¥´-í‘¸ì•„í‹°ì— â†’ ì´ìŠ¬ëŒ ìœ ëŸ½ ì§„ì¶œ |

#### ì¶”ê°€ ê¶Œì¥ íƒ€ì…

| relation_type | ë°©í–¥ | ì„¤ëª… | ì˜ˆì‹œ |
|---------------|------|------|------|
| `influenced` | A â†’ B | Aê°€ Bì— ì˜í–¥ì„ ì¤Œ (ê°„ì ‘) | ê³„ëª½ì£¼ì˜ â†’ í”„ë‘ìŠ¤ í˜ëª… |
| `led_to` | A â†’ B | Aê°€ Bë¡œ ì´ì–´ì§ | í‘ì‚¬ë³‘ â†’ ë¥´ë„¤ìƒìŠ¤ |
| `response_to` | A â† B | AëŠ” Bì— ëŒ€í•œ ë°˜ì‘ | ë°˜ì¢…êµê°œí˜ â† ì¢…êµê°œí˜ |
| `parallel` | A â†” B | ë™ì‹œëŒ€ ìƒí˜¸ì‘ìš© | ê³¼í•™í˜ëª… â†” ê³„ëª½ì£¼ì˜ |
| `continuation` | A â†’ B | Aì˜ ì—°ì†/ê³„ìŠ¹ | 1ì°¨ëŒ€ì „ â†’ 2ì°¨ëŒ€ì „ |
| `rivalry` | A â†” B | ëŒ€ë¦½/ê²½ìŸ ê´€ê³„ | ëƒ‰ì „: ë¯¸êµ­ â†” ì†Œë ¨ |
| `synthesis` | A + B â†’ C | ì—¬ëŸ¬ ì‚¬ê±´ì´ í•©ì³ì ¸ C | í•©ë¦¬ë¡  + ê²½í—˜ë¡  â†’ ì¹¸íŠ¸ |

---

## 2. ìŠ¤í‚¤ë§ˆ ì„¤ê³„ (ê¸°ì¡´ í…Œì´ë¸” í™œìš©)

### 2.1 ê¸°ì¡´ í…Œì´ë¸” ì‚¬ìš© - ìƒˆ í…Œì´ë¸” ë¶ˆí•„ìš”!

**`event_relationships` í…Œì´ë¸”ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤.**

```python
# backend/app/models/associations.py (ì´ë¯¸ ì¡´ì¬)
event_relationships = Table(
    "event_relationships",
    Base.metadata,
    Column("id", Integer, primary_key=True, autoincrement=True),
    Column("from_event_id", Integer, ForeignKey("events.id")),  # = source
    Column("to_event_id", Integer, ForeignKey("events.id")),    # = target
    Column("relationship_type", String(50)),  # ê¸°ì¡´ + ì¶”ê°€ íƒ€ì… ì‚¬ìš©
    Column("strength", Integer, default=3),   # 1-5
    Column("description", Text),
    # V1 enhancements (ì´ë¯¸ ìˆìŒ!)
    Column("certainty", String(20)),     # certain, probable, possible, disputed
    Column("evidence_type", String(30)), # primary_source, scholarly_consensus
    Column("scholarly_citation", Text),
    Column("confidence", Float, default=1.0),
)
```

### 2.2 í•„ìš”í•œ ì‘ì—…

ìƒˆ í…Œì´ë¸” ìƒì„± ëŒ€ì‹ :

1. **relationship_type ê°’ë§Œ ì¶”ê°€ ì‚¬ìš©**
   - ê¸°ì¡´: `causes, follows, part_of, related_to, opposes, enables, prevents`
   - ì¶”ê°€: `influenced, led_to, response_to, parallel, continuation, rivalry, synthesis`

2. **ì„ íƒì : description_ko ì»¬ëŸ¼ ì¶”ê°€**

```python
# Alembic ë§ˆì´ê·¸ë ˆì´ì…˜ (ì„ íƒì )
def upgrade():
    # event_relationshipsì— í•œêµ­ì–´ ì„¤ëª… ì¶”ê°€
    op.add_column('event_relationships',
        sa.Column('description_ko', sa.Text(), nullable=True))

def downgrade():
    op.drop_column('event_relationships', 'description_ko')
```

### 2.3 ìœ ì‚¬ ê´€ê³„ í…Œì´ë¸” í†µí•© í˜„í™©

| ì—”í‹°í‹° ìŒ | í…Œì´ë¸” | í†µí•© ë°©ì•ˆ |
|----------|--------|----------|
| Event â†” Event | `event_relationships` | ê¸°ì¡´ ì‚¬ìš©, íƒ€ì… ì¶”ê°€ |
| Person â†” Person | `person_relationships` | ê¸°ì¡´ ì‚¬ìš©, ë™ì¼ íŒ¨í„´ |
| Location â†” Location | `location_relationships` | ê¸°ì¡´ ì‚¬ìš© |
| Polity â†” Polity | `polity_relationships` | ê¸°ì¡´ ì‚¬ìš© |

**ê²°ë¡ **: ìƒˆ í…Œì´ë¸” ìƒì„± ì—†ì´ ê¸°ì¡´ í…Œì´ë¸”ì˜ `relationship_type` ê°’ë§Œ í™•ì¥í•˜ë©´ ë©ë‹ˆë‹¤!

---

## 3. ì£¼ìš” ì—°ê³„ ê´€ê³„ ì˜ˆì‹œ

### 3.1 ì¸ê³¼ ê´€ê³„ (Causal Chain)

#### í”„ë‘ìŠ¤ í˜ëª… ì¸ê³¼ ì²´ì¸
```
ê³„ëª½ì£¼ì˜ (1685-1815)
    â”‚ influenced (5)
    â–¼
ë¯¸êµ­ ë…ë¦½í˜ëª… (1775-1783)
    â”‚ influenced (4)
    â–¼
í”„ë‘ìŠ¤ í˜ëª… (1789-1799)
    â”‚ caused (5)
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                  â–¼
ë‚˜í´ë ˆì˜¹ ì „ìŸ         ì•„ì´í‹° í˜ëª…
(1803-1815)          (1791-1804)
    â”‚ led_to (4)
    â–¼
1848ë…„ í˜ëª…ë“¤
    â”‚ influenced (3)
    â–¼
íŒŒë¦¬ ì½”ë®Œ (1871)
```

#### ì„¸ê³„ëŒ€ì „ ì¸ê³¼ ì²´ì¸
```
ì œêµ­ì£¼ì˜ ê²½ìŸ (1870-1914)
    â”‚ led_to (4)
    â–¼
ì œ1ì°¨ ì„¸ê³„ëŒ€ì „ (1914-1918)
    â”‚ caused (5)
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼             â–¼             â–¼
ë² ë¥´ì‚¬ìœ  ì¡°ì•½   ëŸ¬ì‹œì•„ í˜ëª…    ì˜¤ìŠ¤ë§Œ í•´ì²´
(1919)         (1917)         (1918-1922)
    â”‚ led_to (5)
    â–¼
ë‚˜ì¹˜ì¦˜ ë¶€ìƒ (1920s-1930s)
    â”‚ caused (5)
    â–¼
ì œ2ì°¨ ì„¸ê³„ëŒ€ì „ (1939-1945)
    â”‚ led_to (5)
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼             â–¼             â–¼
ëƒ‰ì „            íƒˆì‹ë¯¼ì§€í™”      UN ì°½ì„¤
(1947-1991)    (1945-1975)    (1945)
```

### 3.2 ì‚¬ìƒ/ìš´ë™ ê°„ ì˜í–¥

#### ì² í•™ ì˜í–¥ ê´€ê³„
```
ì†Œí¬ë¼í…ŒìŠ¤ ì´ì „ ì² í•™
    â”‚ influenced
    â–¼
ì•„í…Œë„¤ ì² í•™ (í”Œë¼í†¤, ì•„ë¦¬ìŠ¤í† í…”ë ˆìŠ¤)
    â”‚ influenced          â”‚ influenced
    â–¼                     â–¼
í—¬ë ˆë‹ˆì¦˜ ì² í•™        ì´ìŠ¬ëŒ í™©ê¸ˆê¸° ì² í•™
(ìŠ¤í† ì•„, ì—í”¼ì¿ ë¡œìŠ¤)  (ì•„ë¹„ì„¼ë‚˜, ì•„ë² ë¡œì—ìŠ¤)
    â”‚                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â–¼
       ìŠ¤ì½œë¼ ì² í•™ (í† ë§ˆìŠ¤ ì•„í€´ë‚˜ìŠ¤)
             â”‚ influenced
             â–¼
       ë¥´ë„¤ìƒìŠ¤ ì¸ë¬¸ì£¼ì˜
             â”‚ influenced
       â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
       â–¼           â–¼
   í•©ë¦¬ë¡         ê²½í—˜ë¡ 
   (ë°ì¹´ë¥´íŠ¸)    (ë¡œí¬, í„)
       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
             â”‚ synthesis
             â–¼
         ì¹¸íŠ¸ ë¹„íŒì² í•™
             â”‚ influenced
       â”Œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”
       â–¼     â–¼     â–¼
    ë…ì¼   ì‹¤ì¦ì£¼ì˜  ì‹¤ìš©ì£¼ì˜
   ê´€ë…ë¡ 
```

#### ì¢…êµ â†” ì •ì¹˜ ê´€ê³„
```
ì¢…êµê°œí˜ (1517-1648)
    â”‚ caused
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                  â–¼
30ë…„ ì „ìŸ           ë°˜ì¢…êµê°œí˜
(1618-1648)        (1545-1648)
    â”‚ led_to           â”‚ response_to
    â–¼                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ë² ìŠ¤íŠ¸íŒ”ë Œ ì¡°ì•½
(ì£¼ê¶Œêµ­ê°€ ì²´ì œ)
    â”‚ influenced
    â–¼
ê³„ëª½ì£¼ì˜ ì„¸ì†í™”
    â”‚ influenced
    â–¼
ì •êµë¶„ë¦¬ (ë¯¸êµ­, í”„ë‘ìŠ¤)
```

### 3.3 ê³¼í•™/ê¸°ìˆ  ì˜í–¥

```
ê³¼í•™í˜ëª… (1543-1687)
    â”‚ influenced
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                       â–¼
ê³„ëª½ì£¼ì˜               ì‚°ì—…í˜ëª…
(1685-1815)           (1760-1840)
    â”‚ influenced           â”‚ led_to
    â–¼                      â–¼
í”„ë‘ìŠ¤ í˜ëª…           2ì°¨ ì‚°ì—…í˜ëª…
                      (1870-1914)
                          â”‚ led_to
                          â–¼
                      ì •ë³´ê¸°ìˆ  í˜ëª…
                      (1970s-í˜„ì¬)
```

### 3.4 ì˜ˆìˆ  ìš´ë™ ì˜í–¥

```
ë¥´ë„¤ìƒìŠ¤ (1400-1600)
    â”‚ influenced
    â–¼
ë°”ë¡œí¬ (1600-1750)
    â”‚ led_to
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                   â–¼
ë¡œì½”ì½”              ê³ ì „ì£¼ì˜
(1720-1780)        (1750-1820)
    â”‚ response_to      â”‚ influenced
    â”‚                  â–¼
    â”‚              ë‚­ë§Œì£¼ì˜
    â”‚              (1800-1850)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ led_to
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”
        â–¼       â–¼       â–¼
    ì‚¬ì‹¤ì£¼ì˜  ì¸ìƒì£¼ì˜  ìƒì§•ì£¼ì˜
    (1850)   (1870)   (1880)
                â”‚ led_to
                â–¼
            ëª¨ë”ë‹ˆì¦˜ (1900-1970)
                â”‚ led_to
                â–¼
            í¬ìŠ¤íŠ¸ëª¨ë”ë‹ˆì¦˜ (1970-)
```

---

## 4. API ì„¤ê³„

### 4.1 ìƒˆ ì—”ë“œí¬ì¸íŠ¸

```python
# GET /api/v1/events/{id}/relations
# íŠ¹ì • ì´ë²¤íŠ¸ì˜ ëª¨ë“  ê´€ê³„ ì¡°íšŒ
{
    "event_id": 123,
    "outgoing": [  # ì´ ì´ë²¤íŠ¸ê°€ ì˜í–¥ì„ ì¤€
        {"target": {...}, "type": "influenced", "strength": 4}
    ],
    "incoming": [  # ì´ ì´ë²¤íŠ¸ì— ì˜í–¥ì„ ì¤€
        {"source": {...}, "type": "caused", "strength": 5}
    ]
}

# GET /api/v1/events/{id}/causal-chain
# ì¸ê³¼ ì²´ì¸ ì¶”ì  (ê·¸ë˜í”„ íƒìƒ‰)
{
    "root": {...},
    "ancestors": [...],  # ì›ì¸ë“¤
    "descendants": [...]  # ê²°ê³¼ë“¤
}

# GET /api/v1/events/relations?type=influenced&strength_min=4
# íŠ¹ì • íƒ€ì…/ê°•ë„ì˜ ê´€ê³„ë§Œ ì¡°íšŒ

# POST /api/v1/events/relations
# ìƒˆ ê´€ê³„ ìƒì„± (ê´€ë¦¬ììš©)
{
    "source_event_id": 123,
    "target_event_id": 456,
    "relation_type": "influenced",
    "strength": 4,
    "description": "ê³„ëª½ì£¼ì˜ ì‚¬ìƒì´ í”„ë‘ìŠ¤ í˜ëª…ì˜ ì´ë…ì  ê¸°ë°˜ ì œê³µ"
}
```

### 4.2 ê·¸ë˜í”„ ì¿¼ë¦¬

```python
# ì¸ê³¼ ì²´ì¸ BFS/DFS íƒìƒ‰
def get_causal_chain(event_id, direction='both', max_depth=3):
    """
    direction: 'ancestors' (ì›ì¸), 'descendants' (ê²°ê³¼), 'both'
    max_depth: íƒìƒ‰ ê¹Šì´ ì œí•œ
    """
    pass

# ë‘ ì´ë²¤íŠ¸ ê°„ ê²½ë¡œ ì°¾ê¸°
def find_path(event_a_id, event_b_id, max_hops=5):
    """
    Aì™€ Bë¥¼ ì—°ê²°í•˜ëŠ” ê´€ê³„ ê²½ë¡œ ì°¾ê¸°
    """
    pass
```

---

## 5. í”„ë¡ íŠ¸ì—”ë“œ ì‹œê°í™”

### 5.1 ê´€ê³„ ê·¸ë˜í”„ ë·°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ì´ë²¤íŠ¸ ê´€ê³„ ê·¸ë˜í”„]                         â”‚
â”‚                                             â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚           â”‚ ê³„ëª½ì£¼ì˜  â”‚                      â”‚
â”‚           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚      influencedâ”‚(5)                         â”‚
â”‚                â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ë¯¸êµ­ ë…ë¦½í˜ëª…â”‚ â”€â”€â”€â†’â”‚ í”„ë‘ìŠ¤ í˜ëª…   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                   caused â”‚(5)              â”‚
â”‚                          â–¼                  â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                  â”‚ ë‚˜í´ë ˆì˜¹ ì „ìŸ  â”‚           â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì‚¬ì´ë“œë°” ê´€ê³„ í‘œì‹œ

```
â–¼ í”„ë‘ìŠ¤ í˜ëª… (1789-1799)

  ğŸ“ íŒŒë¦¬, í”„ë‘ìŠ¤
  ğŸ“… 1789-07-14 ~ 1799-11-09

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  â—€ ì˜í–¥ ë°›ì€ ì‚¬ê±´:
    â€¢ ê³„ëª½ì£¼ì˜ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (5)
    â€¢ ë¯¸êµ­ ë…ë¦½í˜ëª… â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (4)
    â€¢ ì¬ì • ìœ„ê¸° â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (3)

  â–¶ ì˜í–¥ ì¤€ ì‚¬ê±´:
    â€¢ ë‚˜í´ë ˆì˜¹ ì „ìŸ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (5)
    â€¢ ì•„ì´í‹° í˜ëª… â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (4)
    â€¢ 1848ë…„ í˜ëª…ë“¤ â–ˆâ–ˆâ–ˆâ–ˆ (3)

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ”— ê´€ë ¨ ì‚¬ê±´:
    â€¢ ë°˜í˜ëª… ì „ìŸ (parallel)
    â€¢ ê³µí¬ì •ì¹˜ (í•˜ìœ„)
```

---

## 6. ë°ì´í„° íë ˆì´ì…˜

### 6.1 ìš°ì„ ìˆœìœ„ 1: í•µì‹¬ ì¸ê³¼ ì²´ì¸

#### ì •ì¹˜/í˜ëª… ì²´ì¸
| Source | Relation | Target | Strength |
|--------|----------|--------|----------|
| ê³„ëª½ì£¼ì˜ | influenced | ë¯¸êµ­ ë…ë¦½í˜ëª… | 5 |
| ê³„ëª½ì£¼ì˜ | influenced | í”„ë‘ìŠ¤ í˜ëª… | 5 |
| ë¯¸êµ­ ë…ë¦½í˜ëª… | influenced | í”„ë‘ìŠ¤ í˜ëª… | 4 |
| í”„ë‘ìŠ¤ í˜ëª… | caused | ë‚˜í´ë ˆì˜¹ ì „ìŸ | 5 |
| í”„ë‘ìŠ¤ í˜ëª… | influenced | 1848ë…„ í˜ëª…ë“¤ | 4 |
| 1ì°¨ ì„¸ê³„ëŒ€ì „ | caused | ëŸ¬ì‹œì•„ í˜ëª… | 5 |
| 1ì°¨ ì„¸ê³„ëŒ€ì „ | led_to | 2ì°¨ ì„¸ê³„ëŒ€ì „ | 5 |
| 2ì°¨ ì„¸ê³„ëŒ€ì „ | led_to | ëƒ‰ì „ | 5 |

#### ì¢…êµ/ì‚¬ìƒ ì²´ì¸
| Source | Relation | Target | Strength |
|--------|----------|--------|----------|
| ì¢…êµê°œí˜ | caused | 30ë…„ ì „ìŸ | 5 |
| ì¢…êµê°œí˜ | response_to | ë°˜ì¢…êµê°œí˜ | 5 |
| ê³¼í•™í˜ëª… | influenced | ê³„ëª½ì£¼ì˜ | 5 |
| ê³„ëª½ì£¼ì˜ | influenced | ì„¸ì†í™” | 4 |

### 6.2 ìë™ ê´€ê³„ ì¶”ë¡  ê·œì¹™

```python
# ê·œì¹™ ê¸°ë°˜ ê´€ê³„ ìë™ ìƒì„±
RELATION_RULES = [
    {
        # ê°™ì€ aggregate ë‚´ ì‹œê°„ìˆœ ì´ë²¤íŠ¸ëŠ” led_to ê´€ê³„
        "condition": "same_parent AND sequential",
        "relation": "led_to",
        "strength": 3
    },
    {
        # ë™ì‹œëŒ€ ê°™ì€ ì§€ì—­ ì´ë²¤íŠ¸ëŠ” parallel ê´€ê³„ í›„ë³´
        "condition": "overlapping_dates AND same_location",
        "relation": "parallel",
        "strength": 2,
        "needs_verification": True
    },
    {
        # ì² í•™ì/ì‚¬ìƒê°€ì˜ ìƒëª°ë…„ë„ì™€ ì‚¬ìƒ ìš´ë™ ì—°ê²°
        "condition": "person_lifespan OVERLAPS movement_period",
        "relation": "influenced",
        "strength": 3
    }
]
```

---

## 7. êµ¬í˜„ ìˆœì„œ

### Phase 1: ìŠ¤í‚¤ë§ˆ (Week 1)
- [ ] EventRelation ëª¨ë¸ ìƒì„±
- [ ] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] ê¸°ë³¸ CRUD API

### Phase 2: í•µì‹¬ ë°ì´í„° (Week 2)
- [ ] ìš°ì„ ìˆœìœ„ 1 ê´€ê³„ ìˆ˜ë™ ì…ë ¥
- [ ] ì¸ê³¼ ì²´ì¸ ì‹œê°í™” í™•ì¸

### Phase 3: í”„ë¡ íŠ¸ì—”ë“œ (Week 3)
- [ ] ì‚¬ì´ë“œë°” ê´€ê³„ í‘œì‹œ
- [ ] ê´€ê³„ ê·¸ë˜í”„ ë·° (ì„ íƒ)

### Phase 4: ìë™í™” (Week 4+)
- [ ] ê·œì¹™ ê¸°ë°˜ ê´€ê³„ ì¶”ë¡ 
- [ ] LLM ê¸°ë°˜ ê´€ê³„ ì¶”ì¶œ (ì¥ê¸°)

---

## 8. V1 Historical Chainê³¼ì˜ ì—°ê³„

í˜„ì¬ V1 ì„¤ê³„ì˜ **Causal Chain** ê°œë…ê³¼ í†µí•©:

```
V0 Event Relations (ì´ ë¬¸ì„œ)
    â†“ ë°ì´í„° ê¸°ë°˜
V1 Historical Chain
    - Person Story: ì¸ë¬¼ì˜ ìƒì•  ì´ë²¤íŠ¸ ì—°ê²°
    - Place Story: ì¥ì†Œì˜ ì—­ì‚¬ì  ë³€ì²œ
    - Era Story: ì‹œëŒ€ì˜ ì¸ë¬¼/ì¥ì†Œ/ì‚¬ê±´ ì¢…í•©
    - Causal Chain: ì¸ê³¼ê´€ê³„ë¡œ ì—°ê²°ëœ ì‚¬ê±´ íë¦„ â† ì—¬ê¸°ì„œ í™œìš©
```

EventRelation ë°ì´í„°ëŠ” V1ì˜ Causal Chain ìë™ ìƒì„±ì— ì§ì ‘ í™œìš©ë©ë‹ˆë‹¤.
